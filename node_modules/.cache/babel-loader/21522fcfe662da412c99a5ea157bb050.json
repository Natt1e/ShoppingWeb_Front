{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Mybutton from '@/components/Mybutton.vue';\nexport default {\n  name: \"Register\",\n  components: {\n    Mybutton\n  },\n\n  data() {\n    return {\n      username: '',\n      password1: '',\n      password2: '',\n      role: ''\n    };\n  },\n\n  created() {\n    document.addEventListener('keyup', this.keyup);\n  },\n\n  methods: {\n    keyup(e) {\n      let me = this;\n      var key = e.which || e.keyCode;\n\n      if (key == 13) {\n        me.click_register(e);\n      }\n    },\n\n    click_return() {\n      this.$router.push({\n        name: 'Login'\n      });\n    },\n\n    click_register(e) {\n      let target = e.target;\n\n      if (target.nodeName == 'SPAN' || target.nodeName == 'I') {\n        target = e.target.parentNode;\n      }\n\n      target.blur();\n\n      if (this.username == '') {\n        this.$alert('请输入用户名', '注册失败');\n      } else if (this.password1 == '') {\n        this.$alert('请输入密码', '注册失败');\n      } else if (this.password2 == '') {\n        this.$alert('请再次输入密码', '注册失败');\n      } else if (this.password1 != this.password2) {\n        this.$alert('请输入相同的密码', '注册失败');\n      } else if (this.role == '') {\n        this.$alert('请选择您的身份', '注册失败');\n      } else {\n        this.$axios({\n          method: 'post',\n          url: '/api/signup/',\n          data: JSON.stringify({\n            userId: this.username,\n            passWord: this.password1,\n            type: this.role\n          })\n        }).then(res => {\n          alert('注册成功！欢迎来到烧瓶！');\n          this.$router.push({\n            name: 'Login'\n          });\n        }).catch(err => {\n          if (err.response) {\n            if (err.response.status == 409) {\n              alert('用户名已存在,请更改用户名');\n            }\n          }\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";AASA;AACA;EACAA,gBADA;EAEAC;IACAC;EADA,CAFA;;EAKAC;IACA;MACAC,YADA;MAEAC,aAFA;MAGAC,aAHA;MAIAC;IAJA;EAMA,CAZA;;EAaAC;IACAC;EACA,CAfA;;EAgBAC;IACAC;MACA;MACA;;MACA;QACAC;MACA;IACA,CAPA;;IAQAC;MACA;QAAAb;MAAA;IACA,CAVA;;IAWAc;MACA;;MACA;QACAC;MACA;;MACAA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;UACAC,cADA;UAEAC,mBAFA;UAGAd;YACAe,qBADA;YAEAC,wBAFA;YAGAC;UAHA;QAHA,GASAC,IATA,CASAC;UACAC;UACA;YAAAvB;UAAA;QACA,CAZA,EAYAwB,KAZA,CAYAC;UACA;YACA;cACAF;YACA;UACA;QACA,CAlBA;MAmBA;IAEA;;EAjDA;AAhBA","names":["name","components","Mybutton","data","username","password1","password2","role","created","document","methods","keyup","me","click_return","click_register","target","method","url","userId","passWord","type","then","res","alert","catch","err"],"sourceRoot":"src/views","sources":["Register.vue"],"sourcesContent":["<template>\n<div class=\"body\">\n    <transition name=\"el-\">\n\n    </transition>\n</div>\n</template>\n\n    <script>\n    import Mybutton from '@/components/Mybutton.vue';\n    export default {\n    name: \"Register\",\n    components:{\n        Mybutton\n    },\n    data() {\n      return {\n        username: '',\n        password1: '',\n        password2: '',\n        role: ''\n      }\n    },\n    created() {\n        document.addEventListener('keyup',this.keyup);\n    },\n    methods: {\n    keyup(e) {\n        let me = this;\n        var key = e.which || e.keyCode;\n        if (key == 13) {\n            me.click_register(e);\n        }\n      },\n      click_return() {\n        this.$router.push({name:'Login'});\n      },\n      click_register(e) {\n        let target = e.target;\n        if (target.nodeName == 'SPAN' || target.nodeName == 'I') {\n            target = e.target.parentNode;\n        }\n        target.blur();\n        if (this.username=='') {\n            this.$alert('请输入用户名','注册失败');\n        } else if (this.password1=='') {\n            this.$alert('请输入密码','注册失败');\n        } else if (this.password2=='') {\n            this.$alert('请再次输入密码','注册失败');\n        } else if (this.password1 != this.password2) {\n            this.$alert('请输入相同的密码','注册失败');\n        } else if (this.role=='') {\n            this.$alert('请选择您的身份','注册失败');\n        } else {\n            this.$axios({\n                method: 'post',\n                url: '/api/signup/',\n                data: JSON.stringify({\n                        userId: this.username,\n                        passWord: this.password1,\n                        type: this.role\n                        })\n                })\n            .then(res => {\n                alert('注册成功！欢迎来到烧瓶！');\n                this.$router.push({name:'Login'});\n            }).catch ((err) => {\n                if (err.response){\n                    if (err.response.status == 409) {\n                        alert('用户名已存在,请更改用户名');\n                    }                    \n                }\n            })\n        }\n        \n      }\n    }\n  }\n    </script>\n\n<style scoped>\n        .body {\n            position : absolute;\n\t        width : 100%;\n\t        height : 100%;\n            background: url(\"../assets/registerBackground.png\") no-repeat;\n            background-size:cover;\n        }\n       .topBox {\n            padding-left: 15%;\n            padding-bottom: 1%;\n            text-align: center;\n        }\n        .logo {\n            display: inline-block;\n            color: rgb(174, 0, 255);\n            font-size: 36px;\n            font-weight: 700;\n            margin-right: 20px;\n        }\n        .input {\n            font-family: STSong;\n            font-size: 20px;\n            outline: 0px;\n            border: 0px;\n            width: 390px;\n        }\n        .inputBox {\n            display: inline-block;\n            margin-top: 3%;\n            border-width: 1px;\n            border-style: solid;\n            border-color: gray;\n            padding-left: 0%;\n            padding-right: 0%;\n            width: 400px;\n            height: 30px;\n        }\n        .inputBox1 {\n            display: inline-block;\n            margin-top: 3%;\n            padding-left: 0%;\n            padding-right: 0%;\n            width: 400px;\n            height: 30px;\n        }\n        .text {\n            font-size: 20px;\n        }\n        .registerBtn {\n            font-size: 20px;\n            width: 200px;\n            margin-top: 3%;\n            margin-bottom: 3%;\n            color: white;\n            background-color: rgb(192, 48, 221);\n        }\n</style>"]},"metadata":{},"sourceType":"module"}