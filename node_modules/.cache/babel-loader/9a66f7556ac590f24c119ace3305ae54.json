{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Mybutton from '@/components/Mybutton.vue';\nexport default {\n  name: \"Register\",\n  components: {\n    Mybutton\n  },\n\n  data() {\n    return {\n      username: '',\n      password1: '',\n      password2: '',\n      role: '',\n      show: true,\n      status: 0,\n      correct: false\n    };\n  },\n\n  created() {\n    document.addEventListener('keyup', this.keyup);\n  },\n\n  methods: {\n    keyup(e) {\n      let me = this;\n      var key = e.which || e.keyCode;\n\n      if (key == 13) {\n        me.click_register(e);\n      }\n    },\n\n    click_return() {\n      this.$router.push({\n        name: 'Login'\n      });\n    },\n\n    goBack() {\n      this.status = this.status - 1;\n    },\n\n    click_next() {\n      this.status = this.status + 1;\n    },\n\n    click_register(e) {\n      let target = e.target;\n\n      if (target.nodeName == 'SPAN' || target.nodeName == 'I') {\n        target = e.target.parentNode;\n      }\n\n      target.blur();\n\n      if (this.username == '') {\n        this.$alert('请输入用户名', '注册失败');\n      } else if (this.password1 == '') {\n        this.$alert('请输入密码', '注册失败');\n      } else if (this.password2 == '') {\n        this.$alert('请再次输入密码', '注册失败');\n      } else if (this.password1 != this.password2) {\n        this.$alert('请输入相同的密码', '注册失败');\n      } else if (this.role == '') {\n        this.$alert('请选择您的身份', '注册失败');\n      } else {\n        this.$axios({\n          method: 'post',\n          url: '/api/signup/',\n          data: JSON.stringify({\n            userId: this.username,\n            passWord: this.password1,\n            type: this.role\n          })\n        }).then(res => {\n          alert('注册成功！欢迎来到烧瓶！');\n          this.$router.push({\n            name: 'Login'\n          });\n        }).catch(err => {\n          if (err.response) {\n            if (err.response.status == 409) {\n              alert('用户名已存在,请更改用户名');\n            }\n          }\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";AAsJA;AACA;EACAA,gBADA;EAEAC;IACAC;EADA,CAFA;;EAKAC;IACA;MACAC,YADA;MAEAC,aAFA;MAGAC,aAHA;MAIAC,QAJA;MAKAC,UALA;MAMAC,SANA;MAOAC;IAPA;EASA,CAfA;;EAgBAC;IACAC;EACA,CAlBA;;EAmBAC;IACAC;MACA;MACA;;MACA;QACAC;MACA;IACA,CAPA;;IAQAC;MACA;QAAAhB;MAAA;IACA,CAVA;;IAWAiB;MACA;IACA,CAbA;;IAcAC;MACA;IACA,CAhBA;;IAiBAC;MACA;;MACA;QACAC;MACA;;MACAA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;UACAC,cADA;UAEAC,mBAFA;UAGAnB;YACAoB,qBADA;YAEAC,wBAFA;YAGAC;UAHA;QAHA,GASAC,IATA,CASAC;UACAC;UACA;YAAA5B;UAAA;QACA,CAZA,EAYA6B,KAZA,CAYAC;UACA;YACA;cACAF;YACA;UACA;QACA,CAlBA;MAmBA;IAEA;;EAvDA;AAnBA","names":["name","components","Mybutton","data","username","password1","password2","role","show","status","correct","created","document","methods","keyup","me","click_return","goBack","click_next","click_register","target","method","url","userId","passWord","type","then","res","alert","catch","err"],"sourceRoot":"src/views","sources":["Register.vue"],"sourcesContent":["<template>\n<div class=\"body\">\n    <transition name=\"el-zoom-in-center\" appear=\"boolean\" >\n        <div v-show=\"show\" class=\"mainWindow\">\n            <el-page-header @back=\"goBack()\" title=\"返回上一步\">\n            </el-page-header>\n\n            <div style=\"font-size:25px;padding-top:5%\">\n                欢迎来到烧瓶！\n            </div>\n            <div v-if=\"status==1\" class=\"step\">\n                <el-alert\n                :closable=\"false\"\n                title=\"请注意：\"\n                description=\"您的用户名需要是独一无二的\"\n                center\n                type=\"warning\"\n                >\n                </el-alert>\n\n                <el-input placeholder=\"请输入用户名\" \n                v-model=\"username\" clearable\n                prefix-icon=\"el-icon-user-solid\"\n                style=\"margin-top:5%;margin-bottom:5%\">\n                </el-input>\n\n                <el-alert v-if=\"correct==false\"\n                :closable=\"false\"\n                title=\"用户名设置失败\"\n                description=\"已存在该用户名，再换一个叭~\"\n                center\n                type=\"error\"\n                >\n                </el-alert>\n            </div>\n\n            <div v-if=\"status==0\" class=\"step\">\n                <el-alert\n                :closable=\"false\"\n                title=\"提示\"\n                description=\"请选择您的身份\"\n                center\n                type=\"warning\"\n                >\n                </el-alert>\n\n                <div style=\"margin-top:5%;margin-bottom: 5%;\">\n                <el-radio v-model=\"role\" label=\"1\" border >买家</el-radio>\n                <el-radio v-model=\"role\" label=\"2\" border>卖家</el-radio>\n                </div>\n\n                <el-alert v-if=\"correct==false\"\n                :closable=\"false\"\n                title=\"未选择身份\"\n                description=\"请选择身份\"\n                center\n                type=\"error\"\n                >\n                </el-alert>\n\n            </div>\n\n            <div v-if=\"status==2\" class=\"step\">\n                <el-alert\n                :closable=\"false\"\n                title=\"提示\"\n                description=\"请输入您的密码\"\n                center\n                type=\"warning\"\n                >\n                </el-alert>\n\n                <el-input placeholder=\"请设置密码\" \n                v-model=\"username\" clearable\n                prefix-icon=\"el-icon-lock\"\n                style=\"margin-top:5%;margin-bottom:5%\">\n                </el-input>\n\n\n\n            </div>\n\n            <div v-if=\"status==3\" class=\"step\">\n                <el-alert\n                :closable=\"false\"\n                title=\"提示\"\n                description=\"请确认您的密码\"\n                center\n                type=\"warning\"\n                >\n                </el-alert>\n\n                <el-input placeholder=\"请确认密码\" \n                v-model=\"username\" clearable\n                prefix-icon=\"el-icon-key\"\n                style=\"margin-top:5%;margin-bottom:5%\">\n                </el-input>\n\n            </div>\n\n            <div v-if=\"status==4\" class=\"step\">\n                <el-alert\n                :closable=\"false\"\n                title=\"提示\"\n                description=\"我们将会向您的邮箱发送验证码，请您查收\"\n                center\n                type=\"warning\"\n                >\n                </el-alert>\n\n                <el-form :inline=\"true\">\n                    <el-form-item>\n                    <el-input placeholder=\"请输入您的邮箱\" \n                    v-model=\"username\" clearable\n                    prefix-icon=\"el-icon-s-promotion\"\n                    >\n                    </el-input>\n                    </el-form-item>\n\n                    <el-form-item>\n                    <el-button style=\"font-size:10px;\">发送</el-button>\n                    </el-form-item>\n\n                </el-form>\n\n                \n                <el-input placeholder=\"请输入验证码\" \n                    v-model=\"username\" clearable\n                    prefix-icon=\"el-icon-key\"\n                    >\n                    </el-input>\n\n\n            </div>\n\n            <Mybutton msg=\"下一步\" @click.native=\"click_next\"></Mybutton>\n            \n            <el-steps :active=\"status\" finish-status=\"success\" align-center style=\"margin-top:10%\">\n            <el-step title=\"选择身份\"></el-step>\n            <el-step title=\"设置用户名\"></el-step>\n            <el-step title=\"设置密码\"></el-step>\n            <el-step title=\"验证密码\"></el-step>\n            <el-step title=\"验证邮箱\"></el-step>\n            </el-steps>\n        </div>\n    </transition>    \n</div>\n</template>\n\n    <script>\n    import Mybutton from '@/components/Mybutton.vue';\n    export default {\n    name: \"Register\",\n    components:{\n        Mybutton\n    },\n    data() {\n      return {\n        username: '',\n        password1: '',\n        password2: '',\n        role: '',\n        show: true,\n        status: 0,\n        correct: false\n      }\n    },\n    created() {\n        document.addEventListener('keyup',this.keyup);\n    },\n    methods: {\n    keyup(e) {\n        let me = this;\n        var key = e.which || e.keyCode;\n        if (key == 13) {\n            me.click_register(e);\n        }\n      },\n      click_return() {\n        this.$router.push({name:'Login'});\n      },\n      goBack() {\n        this.status = this.status - 1\n      },\n      click_next() {\n        this.status = this.status + 1;\n      },\n      click_register(e) {\n        let target = e.target;\n        if (target.nodeName == 'SPAN' || target.nodeName == 'I') {\n            target = e.target.parentNode;\n        }\n        target.blur();\n        if (this.username=='') {\n            this.$alert('请输入用户名','注册失败');\n        } else if (this.password1=='') {\n            this.$alert('请输入密码','注册失败');\n        } else if (this.password2=='') {\n            this.$alert('请再次输入密码','注册失败');\n        } else if (this.password1 != this.password2) {\n            this.$alert('请输入相同的密码','注册失败');\n        } else if (this.role=='') {\n            this.$alert('请选择您的身份','注册失败');\n        } else {\n            this.$axios({\n                method: 'post',\n                url: '/api/signup/',\n                data: JSON.stringify({\n                        userId: this.username,\n                        passWord: this.password1,\n                        type: this.role\n                        })\n                })\n            .then(res => {\n                alert('注册成功！欢迎来到烧瓶！');\n                this.$router.push({name:'Login'});\n            }).catch ((err) => {\n                if (err.response){\n                    if (err.response.status == 409) {\n                        alert('用户名已存在,请更改用户名');\n                    }                    \n                }\n            })\n        }\n        \n      }\n    }\n  }\n    </script>\n\n<style scoped>\n        .body {\n            position : absolute;\n\t        width : 100%;\n\t        height : 100%;\n            background: url(\"../assets/registerBackground.png\") no-repeat;\n            background-size:cover;\n        }\n        button{\n            color: white;\n            background-color: rgb(192, 48, 221);\n            font-size: 20px;\n        }\n        .logo {\n            display: inline-block;\n            color: rgb(174, 0, 255);\n            font-size: 36px;\n            font-weight: 700;\n            margin-right: 20px;\n        }\n        .mainWindow {\n            background-color: rgb(242, 229, 229);\n            width: 25%;\n            height: 45%;\n            margin: auto;\n            margin-top: 15%;\n            \n        }\n\n        .step {\n            height:45%;\n            margin-top: 5%;\n            padding-left:10%;\n            padding-right: 10%;\n        }\n        .registerBtn {\n            font-size: 20px;\n            width: 200px;\n            margin-top: 3%;\n            margin-bottom: 3%;\n            color: white;\n            background-color: rgb(192, 48, 221);\n        }\n</style>"]},"metadata":{},"sourceType":"module"}