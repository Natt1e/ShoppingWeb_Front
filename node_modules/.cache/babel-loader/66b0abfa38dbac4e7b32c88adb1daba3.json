{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Mybutton from '@/components/Mybutton.vue';\nimport VueCookie from 'vue-cookie';\nexport default {\n  name: \"Login\",\n  components: {\n    Mybutton\n  },\n\n  data() {\n    return {\n      username: '',\n      password: '',\n      money: '',\n      mail: '',\n      sessionid: ''\n    };\n  },\n\n  created() {\n    document.addEventListener('keyup', this.keyup);\n  },\n\n  methods: {\n    keyup(e) {\n      let me = this;\n      var key = e.which || e.keyCode;\n\n      if (key == 13) {\n        me.click_login(e);\n      }\n    },\n\n    click_re() {\n      this.$router.push({\n        name: 'Register'\n      });\n    },\n\n    click_login(e) {\n      let target = e.target;\n\n      if (target.nodeName == 'SPAN' || target.nodeName == 'I') {\n        target = e.target.parentNode;\n      }\n\n      target.blur();\n\n      if (this.username === '') {\n        this.$notify.error({\n          title: '未输入用户名',\n          message: '请输入用户名'\n        });\n      } else if (this.password === '') {\n        this.$notify.error({\n          title: '未输入密码',\n          message: '请输入密码'\n        });\n      } else {\n        this.$axios.get('/api/signin/' + this.username + '/' + this.password + '/').then(res => {\n          this.mail = res.data.email_address;\n          this.money = res.data.money;\n          this.sessionid = res.data.sessionid;\n          let temp = {\n            sessionid: this.sessionid\n          };\n          VueCookie.set('sessionid', this.sessionid);\n          console.log('1' + document.cookie);\n          console.log('2:' + VueCookie.get('sessionid'));\n          alert(this.sessionid);\n          this.$router.push({\n            path: '/main',\n            query: {\n              userId: this.username,\n              money: this.money,\n              mail: this.mail,\n              sessionid: this.sessionid\n            }\n          });\n        }).catch(err => {\n          if (err.response) {\n            if (err.response.status == 404) {\n              this.$notify.error({\n                title: '用户名不存在',\n                message: '您输入的用户名不存在，请重新输入或注册'\n              });\n            } else {\n              this.$notify.error({\n                title: '密码错误',\n                message: '您输入的密码有误，请重新输入'\n              });\n            }\n          }\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";AAiEA;AACA;AACA;EACAA,aADA;EAEAC;IACAC;EADA,CAFA;;EAKAC;IACA;MACAC,YADA;MAEAC,YAFA;MAGAC,SAHA;MAIAC,QAJA;MAKAC;IALA;EAOA,CAbA;;EAcAC;IACAC;EACA,CAhBA;;EAiBAC;IACAC;MACA;MACA;;MACA;QACAC;MACA;IACA,CAPA;;IAQAC;MACA;QAAAd;MAAA;IACA,CAVA;;IAWAe;MACA;;MACA;QACAC;MACA;;MACAA;;MACA;QACA;UACAC,eADA;UAEAC;QAFA;MAIA,CALA,MAMA;QACA;UACAD,cADA;UAEAC;QAFA;MAIA,CALA,MAKA;QACA;UACA;UACA;UACA;UACA;YAAAV;UAAA;UACAW;UACAC;UACAA;UACAC;UACA;YAAAC;YAAAC;cAAAC;cACAlB,iBADA;cACAC,eADA;cACAC;YADA;UAAA;QAEA,CAXA,EAWAiB,KAXA,CAWAC;UACA;YACA;cACA;gBACAT,eADA;gBAEAC;cAFA;YAIA,CALA,MAKA;cACA;gBACAD,aADA;gBAEAC;cAFA;YAIA;UACA;QACA,CAzBA;MAyBA;IACA;;EAvDA;AAjBA","names":["name","components","Mybutton","data","username","password","money","mail","sessionid","created","document","methods","keyup","me","click_re","click_login","target","title","message","VueCookie","console","alert","path","query","userId","catch","err"],"sourceRoot":"src/views","sources":["Login.vue"],"sourcesContent":["<template>\n<div>\n\n    <div class=\"topBox\">\n        <Transition appear name=\"logo-fade\">\n            <div style=\"position:absolute;margin-top:-3.5%;margin-left: 10%;\">\n                <img src=\"../assets/LOGO1.png\" width=\"250px\">\n            </div>\n        </Transition>\n        \n        \n        <div style=\"position:relative;margin-right: 40%;padding-top: 1%;\">\n                    \n            <!-- <div class=\"logo swing animated\" style=\"text-align:center;display: inline-block;\">\n                <div>烧瓶</div>\n                <div style=\"font-size: 16px;font:Microsoft Yahei;\">心仪生活上烧瓶</div>\n            </div> -->\n            <div style=\"display:inline-block;font-size:35px;font-weight:500;color: #606266;\">\n                欢迎登录\n            </div>  \n        </div> \n\n    </div>\n\n    \n    <div class=\"main\">\n        <Transition appear name=\"slide-fade\">\n        <div class=\"box\">\n            <form autocomplete=\"off\">\n                <div>\n                    <span class=\"title\">\n                        欢迎登录\n                    </span>\n                        <el-input style=\"font-size:20px;margin-top: 6%;\"  placeholder=\"请输入用户名\" prefix-icon=\"el-icon-user-solid\"  v-model=\"username\" clearable>\n                        </el-input>\n\n                        <el-input style=\"font-size:20px;margin-top: 6%;\"  placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\" v-model=\"password\" show-password>\n                        </el-input>\n                    <Mybutton @click.native=\"click_login\" msg=\"登录\" style=\"width:200px;margin-top: 10%;\"> </Mybutton>\n                    \n                    <div style=\"margin-top:10%\">\n                        没有账户？\n                        <el-link type=\"primary\" icon=\"el-icon-arrow-right\" @click=\"click_re\">\n                            立即注册\n                        </el-link>\n                    </div>\n\n                </div>\n                \n            </form>    \n        </div>\n        </Transition>\n    </div>\n    \n    <!-- <div style=\"text-align:center;margin-top: 10px;\">\n        <a href=\"#\" style=\"text-decoration: none;\">联系我们</a>\n    </div> -->\n    <footer>\n        Copyright © 2022-2022  烧瓶shopping.com 版权所有\n    </footer>\n    \n</div>\n</template>\n  \n  <script>\n  import Mybutton from '@/components/Mybutton.vue'; \n  import VueCookie from 'vue-cookie';\n  export default {\n    name: \"Login\",\n    components:{\n        Mybutton\n    },\n    data() {\n      return {\n        username: '',\n        password: '',\n        money: '',\n        mail: '',\n        sessionid: ''\n      }\n    },\n    created() {\n        document.addEventListener('keyup',this.keyup);\n    },\n    methods: {\n      keyup(e) {\n        let me = this;\n        var key = e.which || e.keyCode;\n        if (key == 13) {\n            me.click_login(e);\n        }\n      },\n      click_re() {\n        this.$router.push({name:'Register'});\n      },\n      click_login(e) {\n        let target = e.target;\n        if (target.nodeName == 'SPAN' || target.nodeName == 'I') {\n            target = e.target.parentNode;\n        }\n        target.blur();\n        if (this.username === '') {\n            this.$notify.error({\n                        title: '未输入用户名',\n                        message: '请输入用户名'\n                    });            \n        }        \n        else if (this.password === '') {\n            this.$notify.error({\n                        title: '未输入密码',\n                        message: '请输入密码'\n                    });   \n        } else {\n        this.$axios.get('/api/signin/' + this.username + '/' + this.password + '/').then((res) => {\n            this.mail = res.data.email_address;\n            this.money = res.data.money;\n            this.sessionid = res.data.sessionid;\n            let temp = {sessionid:this.sessionid};\n            VueCookie.set('sessionid',this.sessionid);\n            console.log('1' + document.cookie);\n            console.log('2:' + VueCookie.get('sessionid'));\n            alert(this.sessionid);\n            this.$router.push({path:'/main' , query: {userId: this.username, \n                money: this.money, mail: this.mail, sessionid: this.sessionid} });\n            }).catch((err) => {\n            if (err.response) {\n                if (err.response.status == 404) {\n                    this.$notify.error({\n                        title: '用户名不存在',\n                        message: '您输入的用户名不存在，请重新输入或注册'\n                    });\n                } else {\n                    this.$notify.error({\n                        title: '密码错误',\n                        message: '您输入的密码有误，请重新输入'\n                    });\n                }\n            }\n        }) }\n      }\n    }\n  }\n  </script>\n  \n  <style scoped>\n        .slide-fade-enter-active {\n            transition: all .8s ease;\n        }\n        .slide-fade-enter, .slide-fade-leave-to {\n            transform: translateY(200px);\n            opacity: 0;\n        }\n        .swing {\n            -webkit-transform-origin: top center;\n            -ms-transform-origin: top center;\n            transform-origin: top center;\n            -webkit-animation-name: swing;\n            animation-name: swing;\n         }\n        .animated {\n            -webkit-animation-duration: 1s;\n            animation-duration: 1s;\n            -webkit-animation-fill-mode: both;\n            animation-fill-mode: both;\n        }\n        .logo-fade-enter-active {\n            transition: all 2s ease;\n        }\n        .logo-fade-enter, .logo-fade-leave-to {\n            transform: translateX(1000px) rotate(720deg);\n            opacity: 0;\n        }\n        .logo {\n            display: inline-block;\n            color: rgb(174, 0, 255);\n            font-size: 30px;\n            font-weight: 600;\n            margin-top:10px;\n            margin-right: 40px;\n        }\n        .topBox {\n            padding-top: 9px;\n            padding-bottom: 18px;\n            font:\"Microsoft YaHei\";\n            width: 100%;\n        }\n        .main {\n            margin-top: 1%;\n            width: 100%;\n            height: 530px;\n            background-color: rgba(247, 154, 211, 0.483);\n            background-image: url(../assets/loginbg.jpg);\n            background-size: 100%;\n            background-attachment: fixed;\n            padding-top: 40px;\n        }\n        .title{\n            font-family: \"San Francisco UI\";\n            font-size: 30px;\n            font-weight: Bloder;\n\n        }\n        a:hover {\n            color: red;\n        }   \n        a {\n            text-decoration: none;\n        }\n        .fool {\n            font-size: 10px;\n            font-family: STSong;\n            text-align: center;\n            background-color: rgb(247, 241, 233);\n            padding-top: 10px;\n            padding-bottom: 10px;\n        }\n        .inputBox {\n            outline: 0px;\n            border: 0px;\n            height: 40px;\n        }\n        button{\n            color: white;\n            background-color: rgb(192, 48, 221);\n            font-size: 20px;\n        }\n    footer {\n        background: black;\n        color: gray;\n        font-size: 13px;\n        padding: 20px 20px;\n        text-align: center;\n        font-weight: bold;\n        font-family: 'Courier New', Courier, monospace;\n    }\n\n    .box {\n\tposition: relative;\n    margin-left: 70%;\n\twidth: 380px;\n\theight: 420px;\n\tbackground: white;\n\tborder-radius: 8px;\n\toverflow: hidden;\n    }\n\n.box::before {\n\tcontent: '';\n\tz-index: 1;\n\tposition: absolute;\n\ttop: -50%;\n\tleft: -50%;\n\twidth: 380px;\n\theight: 420px;\n\ttransform-origin: bottom right;\n\tbackground: linear-gradient(0deg, transparent, rgb(162, 35, 188), rgb(192, 48, 221));\n\tanimation: animate 6s linear infinite;\n}\n\n.box::after {\n\tcontent: '';\n\tz-index: 1;\n\tposition: absolute;\n\ttop: -50%;\n\tleft: -50%;\n\twidth: 380px;\n\theight: 420px;\n\ttransform-origin: bottom right;\n\tbackground: linear-gradient(0deg, transparent, rgb(27, 26, 26), rgb(26, 25, 25));\n\tanimation: animate 6s linear infinite;\n\tanimation-delay: -3s;\n}\n@keyframes animate {\n\t0% {\n\t\ttransform: rotate(0deg);\n\t}\n\n\t100% {\n\t\ttransform: rotate(360deg);\n\t}\n}\nform {\n\tposition: absolute;\n\tinset: 5px;\n\tbackground: white;\n\tpadding: 50px 40px;\n\tborder-radius: 8px;\n\tz-index: 2;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n  </style>"]},"metadata":{},"sourceType":"module"}