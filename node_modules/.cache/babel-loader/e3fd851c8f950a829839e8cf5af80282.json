{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: \"Detail\",\n\n  async created() {\n    this.id = this.$route.query.id;\n    await axios.get('/api/buydetail/' + this.id + '/').then(res => {\n      this.goods = res.data;\n    });\n\n    for (var i = 0; i < this.goods.length; i++) {\n      if (this.goods[i].goodId == \"removed\") {\n        this.goods.splice(i, 1);\n        i--;\n      }\n    }\n\n    for (var i = 0; i < this.goods.length; i++) {\n      await axios.get('/api/gooddetail/' + this.goods[i].goodId + '/').then(res => {\n        this.price.push(res.data.price);\n        this.des.push(res.data.description);\n      });\n    }\n\n    axios.get('/api/getinfo/' + this.id + '/').then(res => {\n      this.money = res.data.money;\n    });\n  },\n\n  data() {\n    return {\n      id: '',\n      goods: [],\n      des: [],\n      price: [],\n      money: 0,\n      toAdd: 0\n    };\n  },\n\n  methods: {\n    img(good) {\n      return good.pic;\n    },\n\n    addMoney() {\n      this.$axios({\n        method: 'put',\n        url: '/api/addMoney/',\n        data: JSON.stringify({\n          addMoney: Number(this.toAdd),\n          userId: this.id\n        })\n      }).then(res => {\n        alert('充值成功！');\n        axios.get('/api/getinfo/' + this.id + '/').then(res => {\n          this.money = res.data.money;\n        });\n      });\n    },\n\n    back() {\n      this.$router.push({\n        path: '/main',\n        query: {\n          userId: this.id\n        }\n      });\n    }\n\n  },\n  filters: {\n    numFilter(value) {\n      let real = parseFloat(value).toFixed(2);\n      return real;\n    }\n\n  }\n};","map":{"version":3,"mappings":";AAyDA;AAEA;EACAA,cADA;;EAEA;IACA;IACA;MACA;IACA,CAFA;;IAGA;MACA;QACA;QACAC;MACA;IACA;;IACA;MACA;QACA;QACA;MACA,CAHA;IAIA;;IACAC;MACA;IACA,CAFA;EAGA,CAtBA;;EAuBAC;IACA;MACAC,MADA;MAEAC,SAFA;MAGAC,OAHA;MAIAC,SAJA;MAKAC,QALA;MAMAC;IANA;EAQA,CAhCA;;EAiCAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;QACAC,aADA;QAEAC,qBAFA;QAGAX;UACAS,4BADA;UAEAG;QAFA;MAHA,GAOAC,IAPA,CAOAC;QACAC;QACAhB;UACA;QACA,CAFA;MAGA,CAZA;IAaA,CAlBA;;IAmBAiB;MACA;QAAAC;QAAAC;UAAAN;QAAA;MAAA;IACA;;EArBA,CAjCA;EAwDAO;IACAC;MACA;MACA;IACA;;EAJA;AAxDA","names":["name","i","axios","data","id","goods","des","price","money","toAdd","methods","img","addMoney","method","url","userId","then","res","alert","back","path","query","filters","numFilter"],"sourceRoot":"src/views","sources":["Order.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"center\">\n            <span @click=\"back\">\n            <div style=\"display: inline-block;\">\n                <img src=\"../assets/logo.png\" width=\"80\">\n            </div>\n            <div class=\"logo\" style=\"text-align:center;display: inline-block;\">\n                <div>烧瓶</div>\n                <div style=\"font-size: 16px;\">心仪生活上烧瓶</div>\n            </div>\n            </span>\n            <div class=\"logo\">\n                我的订单\n            </div>\n            <div style=\"display:inline-block;margin-right: 20px;\">\n                余额:{{money | numFilter}}\n            </div>\n        </div>\n\n        <!-- <div v-if=\"goods.length==0\" id=\"no\">\n                <el-empty image-size:50px description=\"这里什么都没有呢，快去逛逛叭~\"></el-empty>\n        </div> -->\n        <div id = \"main\">\n            \n            \n            <!-- <div v-else style=\"position:relative;\">\n                <div style=\"height: 30px;font-size: 20px;\">\n                    <div style=\"display:inline-block;position: absolute;left: 180px\">名称</div>\n                    <div style=\"display:inline-block;position: absolute;left: 360px;\">价格</div>\n                    <div style=\"display:inline-block;position: absolute;left: 440px;\">数量</div>\n                    <div style=\"display:inline-block;position: absolute;left: 550px;\">总价</div>\n                    <div style=\"display:inline-block;position: absolute;left: 650px;\">配送地址</div>\n                    <div style=\"display:inline-block;position: absolute;left: 800px;\">订单时间</div>\n                </div>\n                <div  id=\"cart\" v-for=\"(value,index) in goods\">\n                    <div>\n                        <div class=\"block\" id=\"pic\"><img :src=\"img(value)\" width=\"80\" height=\"80\"></div>\n                        <div class=\"block\" id=\"des\">\n                            <div id=\"txt\">\n                                {{des[index]}}\n                            </div>                \n                        </div>\n                        <div class=\"block\" id=\"price\">￥{{price[index]|numFilter}}</div>\n                        <div class=\"block\" id=\"numberCount\">×{{value.count}}</div>\n                        <div class=\"block\" id=\"count\">￥{{price[index]*value.count|numFilter}}</div>\n                        <div class=\"block\" id=\"place\">{{value.place}}</div>\n                        <div class=\"block\" id=\"time\">{{value.time}}</div>\n                    </div>\n                </div>\n            </div> -->\n        </div>\n    \n    </div>\n    </template>\n    \n    <script>\n        import axios from 'axios';\n        \n        export default {\n            name: \"Detail\",\n            async created() {\n                this.id=this.$route.query.id;\n                await axios.get('/api/buydetail/' + this.id + '/').then((res) => {\n                    this.goods = res.data;            \n                });\n                for(var i=0;i<this.goods.length;i++) {\n                        if (this.goods[i].goodId==\"removed\") {\n                            this.goods.splice(i,1);\n                            i--;\n                        }                                                                 \n                }\n                 for(var i=0;i<this.goods.length;i++) {\n                    await axios.get('/api/gooddetail/' + this.goods[i].goodId + '/').then((res) => {\n                                this.price.push(res.data.price);\n                                this.des.push(res.data.description);\n                            })                                                                   \n                }\n                axios.get('/api/getinfo/' + this.id + '/').then((res) => {\n                    this.money = res.data.money;\n                })         \n            },\n            data() {\n                return {\n                    id: '',\n                    goods: [],\n                    des: [],\n                    price: [],\n                    money: 0,\n                    toAdd: 0,\n                }\n            },\n            methods: {\n                img(good) {\n                    return good.pic;\n                },\n                addMoney() {\n                    this.$axios({\n                        method: 'put',\n                        url: '/api/addMoney/',\n                        data: JSON.stringify({\n                            addMoney: Number(this.toAdd),\n                            userId: this.id\n                        })\n                    }).then(res => {\n                        alert('充值成功！');\n                        axios.get('/api/getinfo/' + this.id + '/').then((res) => {\n                            this.money = res.data.money;\n                        })\n                    })\n                },\n                back() {\n                    this.$router.push({path:'/main',query: {userId: this.id} });     \n                }\n            },\n            filters:{\n                numFilter (value) {\n                    let real = parseFloat(value).toFixed(2);\n                    return real;\n                }\n            }\n    \n        }\n    </script>\n    \n    <style scope>\n            .logo {\n                display: inline-block;\n                color: rgb(174, 0, 255);\n                font-size: 30px;\n                font-weight: 600;\n                margin-right: 40px;\n            }\n            .center {\n                margin-top: 10px;\n                text-align: center;\n                margin-bottom: 10px;\n            }\n        #main{\n            height: auto;\n            width: 75%;\n            background-color: rgb(207, 202, 202);\n            position: absolute;\n            margin-left: 15%;\n            margin-top: 1%;\n            border-radius: 50px;\n            padding-bottom: 10%;\n            }\n        .block{\n            display: inline-block;\n        }\n        #cart{\n            background-color: white;\n            width: 70%;\n            height: 90px;\n            padding-top: 1%;\n            padding-left: 1%;\n            position: relative;\n        }\n        #des{\n            position: absolute; top:20px;\n            margin-right: 20px;\n            width: 200px;\n        }\n        #txt{\n            font-size: 13px;\n            text-align: left;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            -webkit-line-clamp: 2;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n        #price{\n            position: absolute; top:20px;left:350px;\n        }\n        #numberCount{\n            position: absolute; top:20px;left:450px;\n        }\n        #count{\n            position: absolute; top:20px;left:550px;\n        }\n        #place{\n            position: absolute; top:20px;left:650px;\n        }\n        #time{\n            position: absolute; top:20px;left:750px;\n        }\n        button:hover {\n                background-color: cornflowerblue;\n        }\n        button {\n                background-color:rgb(174, 0, 255);\n                color: white;\n        }\n        #no {\n            margin-left: -120px;\n        }\n    </style>"]},"metadata":{},"sourceType":"module"}