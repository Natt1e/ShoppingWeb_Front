{"ast":null,"code":"import Vue from 'vue';\nimport App from './App.vue';\nimport './registerServiceWorker';\nimport router from './router';\nimport store from './store';\nimport axios from 'axios';\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nVue.config.productionTip = false;\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app');\nVue.prototype.$axios = axios;\nVue.use(ElementUI);\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\naxios.defaults.withCredentials = true;\naxios.interceptors.request.use(config => {\n  // const username = localStorage.getItem('username');//改成cookie 不懂cookie，，，，，\n  // const authorization = localStorage.getItem('token');//改成cookie 不懂cookie，，，，，\n  const username = cookie.getCookie('username');\n  const authorization = cookie.getCookie('token'); // 若 localStorage 中含有这些字段，则添加入请求头\n  //config.data = qs.stringify(config.data)\n\n  if (username && authorization) {\n    console.log(authorization);\n    config.headers.authorization = authorization;\n    config.headers.username = username;\n  }\n\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\nexport default instance;","map":{"version":3,"names":["Vue","App","router","store","axios","ElementUI","config","productionTip","render","h","$mount","prototype","$axios","use","defaults","baseURL","withCredentials","interceptors","request","username","cookie","getCookie","authorization","console","log","headers","error","Promise","reject","instance"],"sources":["E:/数据库大作业/database2022-2/shopping/frontend/src/main.js"],"sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport './registerServiceWorker'\nimport router from './router'\nimport store from './store'\nimport axios from 'axios'\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\n\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\nVue.prototype.$axios = axios\nVue.use(ElementUI);\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\n\naxios.defaults.withCredentials=true\n\naxios.interceptors.request.use(\n    (config) => {\n        // const username = localStorage.getItem('username');//改成cookie 不懂cookie，，，，，\n        // const authorization = localStorage.getItem('token');//改成cookie 不懂cookie，，，，，\n        const username = cookie.getCookie('username')\n        const authorization = cookie.getCookie('token')\n        // 若 localStorage 中含有这些字段，则添加入请求头\n        //config.data = qs.stringify(config.data)\n        if (username && authorization) {\n            console.log(authorization)\n            config.headers.authorization = authorization;\n            config.headers.username = username;\n        }\n        return config;\n    },\n    (error) => {\n        return Promise.reject(error)\n    }\n)\nexport default instance"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAO,yBAAP;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,sCAAP;AAGAL,GAAG,CAACM,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AAEA,IAAIP,GAAJ,CAAQ;EACNE,MADM;EAENC,KAFM;EAGNK,MAAM,EAAEC,CAAC,IAAIA,CAAC,CAACR,GAAD;AAHR,CAAR,EAIGS,MAJH,CAIU,MAJV;AAKAV,GAAG,CAACW,SAAJ,CAAcC,MAAd,GAAuBR,KAAvB;AACAJ,GAAG,CAACa,GAAJ,CAAQR,SAAR;AACAD,KAAK,CAACU,QAAN,CAAeC,OAAf,GAAyB,uBAAzB;AAEAX,KAAK,CAACU,QAAN,CAAeE,eAAf,GAA+B,IAA/B;AAEAZ,KAAK,CAACa,YAAN,CAAmBC,OAAnB,CAA2BL,GAA3B,CACKP,MAAD,IAAY;EACR;EACA;EACA,MAAMa,QAAQ,GAAGC,MAAM,CAACC,SAAP,CAAiB,UAAjB,CAAjB;EACA,MAAMC,aAAa,GAAGF,MAAM,CAACC,SAAP,CAAiB,OAAjB,CAAtB,CAJQ,CAKR;EACA;;EACA,IAAIF,QAAQ,IAAIG,aAAhB,EAA+B;IAC3BC,OAAO,CAACC,GAAR,CAAYF,aAAZ;IACAhB,MAAM,CAACmB,OAAP,CAAeH,aAAf,GAA+BA,aAA/B;IACAhB,MAAM,CAACmB,OAAP,CAAeN,QAAf,GAA0BA,QAA1B;EACH;;EACD,OAAOb,MAAP;AACH,CAdL,EAeKoB,KAAD,IAAW;EACP,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAjBL;AAmBA,eAAeG,QAAf"},"metadata":{},"sourceType":"module"}