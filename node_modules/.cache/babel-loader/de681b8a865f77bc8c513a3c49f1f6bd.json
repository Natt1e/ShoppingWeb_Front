{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport head_image from \"../assets/head.png\";\nimport Mybutton from \"./Mybutton.vue\";\nimport axios from 'axios';\nexport default {\n  name: 'MySidebar',\n  components: {\n    Mybutton\n  },\n  props: {\n    username: String,\n    money: String,\n    password: String,\n    Mymail: String,\n    money_change: Boolean,\n    buy_change: Boolean\n  },\n\n  data() {\n    return {\n      headImage: head_image,\n      isOpen: false,\n      visible: true,\n      dialogFormVisible: false,\n      Addmoney: 100,\n      bindVisible: false,\n      email: '',\n      unbindVisible: false,\n      safe: '',\n      systemSafe: '',\n      bellVisible: false\n    };\n  },\n\n  methods: {\n    open() {\n      this.isOpen = !this.isOpen;\n    },\n\n    goBack() {\n      this.$router.push({\n        path: '/'\n      });\n    },\n\n    click_cart() {\n      let routerDate = this.$router.resolve({\n        path: '/cart',\n        query: {\n          id: this.username\n        }\n      });\n      window.open(routerDate.href, '_blank');\n    },\n\n    click_order() {\n      let routerDate = this.$router.resolve({\n        path: '/order',\n        query: {\n          id: this.username\n        }\n      });\n      window.open(routerDate.href, '_blank');\n    },\n\n    Recharge() {\n      this.dialogFormVisible = false;\n      this.$axios.put('/api/addmoney/', {\n        money: this.Addmoney,\n        userId: this.username,\n        password: this.password\n      }).then(res => {});\n      this.$notify.success({\n        title: '充值成功',\n        message: '钱包鼓鼓的，可以去烧瓶啦~'\n      });\n    },\n\n    changeInfor() {\n      let routerDate = this.$router.resolve({\n        path: '/information',\n        query: {\n          id: this.username\n        }\n      });\n      window.open(routerDate.href, '_blank');\n    },\n\n    sendMail() {\n      this.$axios({\n        method: 'post',\n        url: '/api/bind/',\n        data: JSON.stringify({\n          userId: this.username,\n          email_address: this.email\n        })\n      }).then(res => {\n        this.$notify({\n          title: '发送成功',\n          message: '请注意查收邮件',\n          type: 'success'\n        });\n        this.systemSafe = res.data.请输入验证码;\n      }).catch(err => {\n        if (err.response) {\n          this.$notify({\n            title: '发送失败',\n            message: '由于神奇的原因失败辽~',\n            type: 'error'\n          });\n        }\n      });\n    },\n\n    unbind() {\n      this.unbindVisible = false;\n      this.$axios({\n        method: 'delete',\n        url: '/api/unbind/' + this.username + '/' + this.password + '/'\n      }).then(res => {\n        this.$notify({\n          title: '成功解绑',\n          message: '感谢您的支持',\n          type: 'success'\n        });\n      });\n    },\n\n    bind() {\n      this.bindVisible = false;\n\n      if (this.systemSafe == this.safe) {\n        this.$notify({\n          title: '成功绑定',\n          message: '感谢您的支持',\n          type: 'success'\n        });\n        this.$axios.put('/api/bind/', {\n          userId: this.username,\n          money_change: true,\n          is_active: true,\n          buy_change: true\n        }).then(res => {});\n      } else {\n        this.$notify({\n          title: '绑定失败',\n          message: '验证码错误',\n          type: 'success'\n        });\n        this.$axios({\n          method: 'delete',\n          url: '/api/unbind/' + this.username + '/' + this.password + '/'\n        }).then(res => {});\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";AAuLA;AACA;AACA;AACA;EACAA,iBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC,gBADA;IAEAC,aAFA;IAGAC,gBAHA;IAIAC,cAJA;IAKAC,qBALA;IAMAC;EANA,CALA;;EAaAC;IACA;MACAC,qBADA;MAEAC,aAFA;MAGAC,aAHA;MAIAC,wBAJA;MAKAC,aALA;MAMAC,kBANA;MAOAC,SAPA;MAQAC,oBARA;MASAC,QATA;MAUAC,cAVA;MAWAC;IAXA;EAaA,CA3BA;;EA4BAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;QAAAC;MAAA;IACA,CANA;;IAOAC;MACA;QACAD,aADA;QAEAE;UACAC;QADA;MAFA;MAMAC;IACA,CAfA;;IAgBAC;MACA;QACAL,cADA;QAEAE;UACAC;QADA;MAFA;MAMAC;IACA,CAxBA;;IAyBAE;MACA;MACA;QACA1B,oBADA;QAEA2B,qBAFA;QAGA1B;MAHA,GAIA2B,IAJA,CAIAC,QACA,CALA;MAMA;QACAC,aADA;QAEAC;MAFA;IAIA,CArCA;;IAsCAC;MACA;QACAZ,oBADA;QAEAE;UACAC;QADA;MAFA;MAMAC;IACA,CA9CA;;IA+CAS;MACA;QACAC,cADA;QAEAC,iBAFA;QAGA9B;UACAsB,qBADA;UAEAS;QAFA;MAHA,GAOAR,IAPA,CAOAC;QACA;UACAC,aADA;UAEAC,kBAFA;UAGAM;QAHA;QAKA;MACA,CAdA,EAcAC,KAdA,CAcAC;QACA;UACA;YACAT,aADA;YAEAC,sBAFA;YAGAM;UAHA;QAKA;MACA,CAtBA;IAuBA,CAvEA;;IAwEAG;MACA;MACA;QACAN,gBADA;QAEAC;MAFA,GAGAP,IAHA,CAGAC;QACA;UACAC,aADA;UAEAC,iBAFA;UAGAM;QAHA;MAKA,CATA;IAUA,CApFA;;IAqFAI;MACA;;MACA;QACA;UACAX,aADA;UAEAC,iBAFA;UAGAM;QAHA;QAKA;UACAV,qBADA;UAEAxB,kBAFA;UAGAuC,eAHA;UAIAtC;QAJA,GAKAwB,IALA,CAKAC,QACA,CANA;MAQA,CAdA,MAcA;QACA;UACAC,aADA;UAEAC,gBAFA;UAGAM;QAHA;QAKA;UACAH,gBADA;UAEAC;QAFA,GAGAP,IAHA,CAGAC,QACA,CAJA;MAMA;IACA;;EAlHA;AA5BA","names":["name","components","Mybutton","props","username","money","password","Mymail","money_change","buy_change","data","headImage","isOpen","visible","dialogFormVisible","Addmoney","bindVisible","email","unbindVisible","safe","systemSafe","bellVisible","methods","open","goBack","path","click_cart","query","id","window","click_order","Recharge","userId","then","res","title","message","changeInfor","sendMail","method","url","email_address","type","catch","err","unbind","bind","is_active"],"sourceRoot":"src/components","sources":["MySidebar.vue"],"sourcesContent":["<template>\r\n<div>  \r\n<nav class=\"main-menu\">\r\n            <div>\r\n                <el-avatar :src=\"headImage\"></el-avatar>\r\n            </div>\r\n\r\n            <ul>\r\n                <li class=\"has-subnav\">\r\n                    <a href=\"#\" @click=\"changeInfor\">\r\n                       <i class=\"fa fa-2x el-icon-user-solid\"></i>\r\n                        <span class=\"nav-text\">\r\n                            修改信息\r\n                        </span>\r\n                    </a> \r\n                </li>\r\n\r\n                <li class=\"has-subnav\">\r\n                    <a href=\"#\" @click=\"bindVisible = true\">\r\n                       <i class=\"fa fa-2x el-icon-s-promotion\"></i>\r\n                        <span class=\"nav-text\">\r\n                            绑定邮箱\r\n                        </span>\r\n                    </a> \r\n                </li>\r\n\r\n                <li class=\"has-subnav\">\r\n                    <a href=\"#\" @click=\"unbindVisible = true\">\r\n                       <i class=\"fa fa-2x el-icon-s-release\"></i>\r\n                        <span class=\"nav-text\">\r\n                            解绑邮箱\r\n                        </span>\r\n                    </a> \r\n                </li>\r\n             \r\n                <li class=\"has-subnav\" @click=\"open\">\r\n                    <a href=\"#\">\r\n                    <i class=\"fa fa-2x el-icon-wallet\" ></i>\r\n                        <span class=\"nav-text\">\r\n                            余额&nbsp;\r\n                            <Transition name=\"el-zoom-in-center\">\r\n                                    <i v-if=\"!isOpen\" class=\"el-icon-arrow-down\"> </i>\r\n                                    <i v-if=\"isOpen\" class=\"el-icon-arrow-up\"> </i>           \r\n                            </Transition>\r\n                        </span>\r\n                    </a>\r\n                </li>\r\n\r\n                <el-collapse-transition>\r\n                    <li v-if=\"isOpen\">\r\n                    \r\n                    <i class=\"fa fa-2x\"></i>\r\n                        <span class=\"nav-text\" style=\"color:#999; font-family: arial;font-size: 14px;\">\r\n                            ￥{{money}}\r\n                        </span>\r\n                   \r\n                    </li>\r\n                </el-collapse-transition>\r\n                \r\n\r\n\r\n                <li class=\"has-subnav\">\r\n                    <a href=\"#\" @click=\"click_cart\">\r\n                       <i class=\"fa fa-2x el-icon-shopping-cart-2\"></i>\r\n                        <span class=\"nav-text\">\r\n                            购物车\r\n                        </span>\r\n                    </a> \r\n                </li>\r\n\r\n                <li class=\"has-subnav\">\r\n                    <a href=\"#\" @click=\"click_order\">\r\n                       <i class=\"fa fa-2x el-icon-shopping-bag-2\"></i>\r\n                        <span class=\"nav-text\">\r\n                            我的订单\r\n                        </span>\r\n                    </a>\r\n                   \r\n                </li>\r\n\r\n                <li class=\"has-subnav\">\r\n                    <a href=\"#\" @click=\"dialogFormVisible=true\">\r\n                        <i class=\"fa fa-2x el-icon-coin\"></i>\r\n                        <span class=\"nav-text\">\r\n                           充值\r\n                        </span>\r\n                    </a>\r\n                </li>\r\n\r\n                <li class=\"has-subnav\">\r\n                    <a href=\"#\">\r\n                        <i class=\"fa fa-2x el-icon-headset\"></i>\r\n                        <span class=\"nav-text\">\r\n                           联系客服\r\n                        </span>\r\n                    </a>\r\n                </li>\r\n\r\n                <li class=\"has-subnav\">\r\n                    <a href=\"#\" @click=\"bellVisible=true\">\r\n                        <i class=\"fa fa-2x el-icon-bell\"></i>\r\n                        <span class=\"nav-text\">\r\n                           通知开关\r\n                        </span>\r\n                    </a>\r\n                </li>\r\n\r\n\r\n            </ul>\r\n\r\n            <ul class=\"logout\" >\r\n                <li>\r\n                   <a href=\"#\" @click=\"goBack\">\r\n                         <i class=\"fa fa-2x el-icon-switch-button\"></i>\r\n                        <span class=\"nav-text\">\r\n                            退出\r\n                        </span>\r\n                    </a>\r\n                </li>  \r\n            </ul>\r\n</nav>\r\n    <el-dialog title=\"输入充值金额\" :visible.sync=\"dialogFormVisible\" width=\"30%\">\r\n        <el-input style=\"font-size:20px;width: 40%;text-align: center;\" v-model.number=\"Addmoney\"></el-input>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogFormVisible = false\">我再想想</el-button>\r\n            <span @click=\"Recharge\" style=\"margin-left:5%\">\r\n                <Mybutton msg=\"氪金\"  class=\"Mybutton\"></Mybutton>\r\n            </span>\r\n            \r\n            <!-- <el-button type=\"primary\" @click=\"dialogFormVisible = false\">氪金</el-button> -->\r\n        </div>\r\n    </el-dialog>\r\n    <el-dialog title=\"绑定邮箱\" :visible.sync=\"bindVisible\" width=\"30%\">\r\n        <span>\r\n            <el-input placeholder=\"请输入您的邮箱\" v-model=\"email\"></el-input> \r\n        </span>\r\n        <div  style=\"margin-top:5%;margin-bottom: 5%;\">\r\n            <el-button @click=\"sendMail\">发送邮件</el-button>\r\n        </div>\r\n        <el-input placeholder=\"请输入您的验证码\" v-model=\"safe\"></el-input> \r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"bindVisible = false\">我再想想</el-button>\r\n            <span @click=\"bind\" style=\"margin-left:5%\">\r\n                <Mybutton msg=\"确认提交\"  class=\"Mybutton\"></Mybutton>\r\n            </span>    \r\n        </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"解绑邮箱\" :visible.sync=\"unbindVisible\" width=\"30%\">\r\n        您将解绑您的邮箱： {{ Mymail }}\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"unbindVisible=false\">我再想想</el-button>\r\n            <span @click=\"unbind\" style=\"margin-left:5%\">\r\n                <Mybutton msg=\"确认解绑\"  class=\"Mybutton\"></Mybutton>\r\n            </span>    \r\n        </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"更改通知开关\" :visible.sync=\"bellVisible\" width=\"30%\">\r\n        <div>\r\n            \r\n        </div>\r\n        余额变动提醒\r\n        <el-switch\r\n            v-model=\"money_change\"\r\n            active-color=\"#13ce66\"\r\n            inactive-color=\"#ff4949\">\r\n        </el-switch>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"bellVisible=false\">我再想想</el-button>\r\n            <span @click=\"\" style=\"margin-left:5%\">\r\n                <Mybutton msg=\"确认更改\"  class=\"Mybutton\"></Mybutton>\r\n            </span>    \r\n        </div>\r\n    </el-dialog>\r\n    \r\n\r\n\r\n\r\n</div>     \r\n</template>\r\n\r\n<script>\r\nimport head_image from \"../assets/head.png\";\r\nimport Mybutton from \"./Mybutton.vue\";\r\nimport axios from 'axios';\r\nexport default {\r\nname: 'MySidebar',\r\ncomponents: {\r\n    Mybutton\r\n},\r\nprops: {\r\n    username: String,\r\n    money: String,\r\n    password: String,\r\n    Mymail:String,\r\n    money_change:Boolean,\r\n    buy_change:Boolean\r\n},\r\ndata() {\r\n    return {\r\n        headImage : head_image,\r\n        isOpen:false,\r\n        visible: true,\r\n        dialogFormVisible: false,\r\n        Addmoney: 100,\r\n        bindVisible:false,\r\n        email: '',\r\n        unbindVisible:false,\r\n        safe: '',\r\n        systemSafe: '',\r\n        bellVisible:false\r\n    }\r\n},\r\nmethods: {\r\n    open(){\r\n        this.isOpen = !this.isOpen;\r\n    },\r\n    goBack() {\r\n        this.$router.push({path: '/'});\r\n    },\r\n    click_cart() {\r\n                let routerDate = this.$router.resolve({\r\n                    path: '/cart',\r\n                    query: {\r\n                        id:this.username\r\n                    }\r\n                });\r\n                window.open(routerDate.href,'_blank');\r\n            },\r\n    click_order() {\r\n                let routerDate = this.$router.resolve({\r\n                    path: '/order',\r\n                    query: {\r\n                        id:this.username\r\n                    }\r\n                });\r\n                window.open(routerDate.href,'_blank');\r\n            },\r\n    Recharge() {\r\n        this.dialogFormVisible = false;\r\n        this.$axios.put('/api/addmoney/',{\r\n            money: this.Addmoney,\r\n            userId: this.username,\r\n            password: this.password\r\n        }).then((res) => {\r\n        });\r\n        this.$notify.success({\r\n                        title: '充值成功',\r\n                        message: '钱包鼓鼓的，可以去烧瓶啦~'\r\n                    });\r\n    },\r\n    changeInfor() {\r\n        let routerDate = this.$router.resolve({\r\n                    path: '/information',\r\n                    query: {\r\n                        id:this.username\r\n                    }\r\n                });\r\n                window.open(routerDate.href,'_blank');\r\n    },\r\n    sendMail() {\r\n        this.$axios({\r\n                                method: 'post',\r\n                                url: '/api/bind/',\r\n                                data: JSON.stringify({\r\n                                        userId:this.username,\r\n                                        email_address:this.email\r\n                                        })\r\n                                }).then(res => {\r\n                                    this.$notify({\r\n                                        title:'发送成功',\r\n                                        message:'请注意查收邮件',\r\n                                        type:'success'\r\n                                    });\r\n                                    this.systemSafe = res.data.请输入验证码;\r\n                                }).catch((err) => {\r\n                                    if (err.response) {\r\n                                            this.$notify({\r\n                                                title:'发送失败',\r\n                                                message:'由于神奇的原因失败辽~',\r\n                                                type:'error'\r\n                                        });\r\n                                    }\r\n                                });\r\n    },\r\n    unbind() {\r\n        this.unbindVisible = false;\r\n        this.$axios({\r\n                    method: 'delete',\r\n                    url: '/api/unbind/' + this.username + '/' + this.password + '/',\r\n                }).then(res => {\r\n                    this.$notify({\r\n                        title: '成功解绑',\r\n                        message: '感谢您的支持',\r\n                        type: 'success'\r\n                    });\r\n                });    \r\n    },\r\n    bind() {\r\n        this.bindVisible=false\r\n        if (this.systemSafe == this.safe) {\r\n            this.$notify({\r\n                        title: '成功绑定',\r\n                        message: '感谢您的支持',\r\n                        type: 'success'\r\n                    });\r\n            this.$axios.put('/api/bind/',{\r\n                    userId:this.username,\r\n                    money_change:true,\r\n                    is_active:true,\r\n                    buy_change:true\r\n                }).then((res) => {\r\n                });\r\n            \r\n        } else {\r\n            this.$notify({\r\n                        title: '绑定失败',\r\n                        message: '验证码错误',\r\n                        type: 'success'\r\n                    });\r\n            this.$axios({\r\n                    method: 'delete',\r\n                    url: '/api/unbind/' + this.username + '/' + this.password + '/',\r\n                }).then(res => {\r\n                }); \r\n            \r\n        }\r\n    }\r\n}\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n        .Mybutton{\r\n            color: white;\r\n            background-color: rgb(192, 48, 221);\r\n            font-size: 20px;\r\n        }\r\n.fa-2x {\r\nfont-size: 2em;\r\n}\r\n.fa {\r\nposition: relative;\r\ndisplay: table-cell;\r\nwidth: 60px;\r\nheight: 36px;\r\ntext-align: center;\r\nvertical-align: middle;\r\nfont-size:20px;\r\n}\r\n\r\n\r\n.main-menu:hover,nav.main-menu.expanded {\r\nwidth:200px;\r\noverflow:visible;\r\n}\r\n\r\n.main-menu {\r\nbackground:#212121;\r\nborder-right:1px solid #e5e5e5;\r\nposition:fixed;\r\ntop:0;\r\nbottom:0;\r\nheight:100%;\r\nleft:0;\r\nwidth:60px;\r\noverflow:hidden;\r\n-webkit-transition:width .05s linear ;\r\ntransition:width .05s linear;\r\n-webkit-transform:translateZ(0) scale(1,1);\r\nz-index:1000;\r\n}\r\n.has-subnav {\r\n    margin-top: 15px;\r\n}\r\n.main-menu>ul {\r\nmargin:7px 0;\r\n}\r\n\r\n.main-menu li {\r\nposition:relative;\r\ndisplay:block;\r\nwidth:200px;\r\n}\r\n\r\n.main-menu li>a {\r\nposition:relative;\r\ndisplay:table;\r\nborder-collapse:collapse;\r\nborder-spacing:0;\r\ncolor:#999;\r\nfont-family: arial;\r\nfont-size: 14px;\r\ntext-decoration:none;\r\n-webkit-transform:translateZ(0) scale(1,1);\r\n-webkit-transition:all .1s linear;\r\ntransition:all .1s linear;\r\n  \r\n}\r\n\r\n.main-menu .nav-icon {\r\nposition:relative;\r\ndisplay:table-cell;\r\nwidth:60px;\r\nheight:36px;\r\ntext-align:center;\r\nvertical-align:middle;\r\nfont-size:18px;\r\n}\r\n\r\n.main-menu .nav-text {\r\nposition:relative;\r\ndisplay:table-cell;\r\nvertical-align:middle;\r\nwidth:190px;\r\n}\r\n\r\n.main-menu>ul.logout {\r\n    position: fixed;\r\n    bottom: 10%;\r\n}\r\n.no-touch .scrollable.hover {\r\noverflow-y:hidden;\r\n}\r\n\r\n.no-touch .scrollable.hover:hover {\r\noverflow-y:auto;\r\noverflow:visible;\r\n}\r\n\r\na:hover,a:focus {\r\ntext-decoration:none;\r\n}\r\n\r\nnav {\r\n-webkit-user-select:none;\r\n-moz-user-select:none;\r\n-ms-user-select:none;\r\n-o-user-select:none;\r\nuser-select:none;\r\n}\r\n\r\nnav ul,nav li {\r\noutline:0;\r\nmargin:0;\r\npadding:0;\r\n}\r\n.main-menu li:hover>a,nav.main-menu li.active>a,.dropdown-menu>li>a:hover,.dropdown-menu>li>a:focus,.dropdown-menu>.active>a,.dropdown-menu>.active>a:hover,.dropdown-menu>.active>a:focus,.no-touch .dashboard-page nav.dashboard-menu ul li:hover a,.dashboard-page nav.dashboard-menu ul li.active a {\r\ncolor:#fff;\r\nbackground-color:#5fa2db;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}