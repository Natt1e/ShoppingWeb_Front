"use strict";(self["webpackChunkshopping_web"]=self["webpackChunkshopping_web"]||[]).push([[623],{33845:function(e,r,t){t.d(r,{Z:function(){return u}});var s=function(){var e=this,r=e._self._c;return r("el-button",{attrs:{type:"primary"}},[e._v(" "+e._s(e.msg)+" ")])},i=[],l={name:"Mybutton",props:{msg:String}},o=l,a=t(1001),n=(0,a.Z)(o,s,i,!1,null,"2636bfaa",null),u=n.exports},12623:function(e,r,t){t.r(r),t.d(r,{default:function(){return c}});var s=function(){var e=this,r=e._self._c;return r("div",{staticClass:"body"},[r("div",{staticStyle:{"font-size":"30px","font-weight":"900","margin-top":"1%","margin-bottom":"1%"}},[e._v(" Hi~,"+e._s(e.username)+",这是您商品的情况： ")]),r("el-dialog",{attrs:{title:"上架商品",visible:e.upVisible,width:"30%",center:""},on:{"update:visible":function(r){e.upVisible=r}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:100}},model:{value:e.ruleForm.description,callback:function(r){e.$set(e.ruleForm,"description",r)},expression:"ruleForm.description"}})],1),r("el-form-item",{attrs:{label:"商品价格￥",prop:"checkPrice"}},[r("el-input",{attrs:{autocomplete:"off",clearable:""},model:{value:e.ruleForm.price,callback:function(r){e.$set(e.ruleForm,"price",r)},expression:"ruleForm.price"}})],1),r("el-form-item",{attrs:{label:"库存量",prop:"checkCount"}},[r("el-input",{attrs:{autocomplete:"off",clearable:""},model:{value:e.ruleForm.availCount,callback:function(r){e.$set(e.ruleForm,"availCount",r)},expression:"ruleForm.availCount"}})],1),r("el-form-item",{attrs:{label:"发货地",prop:"addr"}},[r("el-input",{attrs:{autocomplete:"off",clearable:""},model:{value:e.ruleForm.address,callback:function(r){e.$set(e.ruleForm,"address",r)},expression:"ruleForm.address"}})],1),r("el-form-item",{attrs:{label:"商品类型",prop:"checkType"}},[r("el-radio-group",{model:{value:e.ruleForm.type,callback:function(r){e.$set(e.ruleForm,"type",r)},expression:"ruleForm.type"}},[r("el-radio",{attrs:{label:"药品"}}),r("el-radio",{attrs:{label:"食品饮料"}}),r("el-radio",{attrs:{label:"文学"}}),r("el-radio",{attrs:{label:"日常用品"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(r){e.buyVisiable=!1}}},[e._v("我再想想")]),r("el-button",{attrs:{type:"primary"},nativeOn:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("立即上架")])],1)],1),r("div",[r("iframe",{attrs:{src:e.src1,width:"500",height:"300",border:"0",marginwidth:"0",marginheight:"0",scrolling:"0",allowtransparency:"yes"}}),r("iframe",{attrs:{src:e.src2,width:"500",height:"300",border:"0",marginwidth:"0",marginheight:"0",scrolling:"0",allowtransparency:"yes"}}),r("iframe",{attrs:{src:e.src3,width:"500",height:"300",border:"0",marginwidth:"0",marginheight:"0",scrolling:"0",allowtransparency:"yes"}}),r("iframe",{attrs:{src:e.src4,width:"500",height:"300",border:"0",marginwidth:"0",marginheight:"0",scrolling:"0",allowtransparency:"yes"}})]),r("Mybutton",{attrs:{msg:"上架商品"},nativeOn:{click:function(r){e.upVisible=!0}}})],1)},i=[],l=t(33845),o={name:"Bussiness",components:{Mybutton:l.Z},created(){this.username=this.$route.query.userId},mounted(){},data(){var e=(e,r,t)=>{if(!this.ruleForm.description)return t(new Error("商品名不能为空"));t()},r=(e,r,t)=>{let s=this.ruleForm.availCount;if(s){var i=/(?![^0-9]*$)/;if(!i.test(s))return t(new Error("库存量必须由数字组成"));t()}else t(new Error("请输入库存量"))},t=(e,r,t)=>{let s=this.ruleForm.price;if(s){var i=/(?![^0-9]*$)/;if(!i.test(s))return t(new Error("价格必须由数字组成"));t()}else t(new Error("请输入商品单价"))},s=(e,r,t)=>{if(!this.ruleForm.address)return t(new Error("发货地不能为空"));t()},i=(e,r,t)=>{if(!this.ruleForm.type)return t(new Error("商品类型不能为空"));t()};return{username:"",src1:"/static/sellerGoodPie(wkshop).html",src2:"/static/sellerOrderPie(wkshop).html",src3:"/static/sellerSoldCountLine(wkshop).html",src4:"/static/sellerSoldMoneyLine(wkshop).html",upVisible:!1,ruleForm:{description:"",price:"",availCount:"",address:"",type:""},rules:{checkCount:[{validator:r,trigger:"blur"}],checkPrice:[{validator:t,trigger:"blur"}],name:[{validator:e,trigger:"blur"}],addr:[{validator:s,trigger:"blur"}],checkType:[{validator:i,trigger:"blur"}]}}},methods:{up(){this.upVisible=!1,this.$notify({title:"上架成功",message:"祝老板财源广进~",type:"success"})},submitForm(e){console.log(this.username),console.log(this.ruleForm.price),console.log(this.ruleForm.availCount),console.log(this.ruleForm.description),console.log(this.ruleForm.address),"药品"==this.type?this.type=1:"食品饮料"==this.type?this.type=2:"文学"==this.type?this.type=3:this.type=4,this.$refs[e].validate((e=>{if(!e)return console.log("error"),!1;this.$axios({method:"post",url:"/api/uploadgood/",data:JSON.stringify({seller:this.username,price:this.ruleForm.price,availCount:this.ruleForm.availCount,soldCount:0,description:this.ruleForm.description,type:this.type,address:this.ruleForm.address})}).then((e=>{this.$notify({title:"上架成功",message:"商品已经成功上架",type:"success"})})).catch((e=>{e.response&&this.$notify({title:"上架失败",message:"由于神奇的原因失败辽~",type:"error"})}))}))}}},a=o,n=t(1001),u=(0,n.Z)(a,s,i,!1,null,"23272f74",null),c=u.exports}}]);
//# sourceMappingURL=623.ee602bbf.js.map