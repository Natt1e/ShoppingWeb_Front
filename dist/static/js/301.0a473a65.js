"use strict";(self["webpackChunkshopping_web"]=self["webpackChunkshopping_web"]||[]).push([[301],{1301:function(t,i,e){e.r(i),e.d(i,{default:function(){return u}});var a=function(){var t=this,i=t._self._c;return i("div",[i("div",{staticClass:"center"},[i("span",{on:{click:t.back}},[t._m(0),t._m(1)]),i("div",{staticStyle:{display:"inline-block"}},[i("div",{staticClass:"search-box",staticStyle:{"margin-right":"40px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticStyle:{border:"0px",outline:"0px","font-size":"16px",height:"30px"},attrs:{type:"text",size:"50",placeholder:t.welcome},domProps:{value:t.content},on:{input:function(i){i.target.composing||(t.content=i.target.value)}}}),i("el-button",{staticStyle:{height:"37px","font-size":"15px"},attrs:{type:"primary"},on:{click:t.search}},[t._v("开始烧瓶")])],1),i("div",{staticClass:"type-box"},[i("span",{staticStyle:{"margin-right":"10px"},on:{click:function(i){return i.preventDefault(),t.classification(1)}}},[i("a",{class:{activeCss:1==t.active},attrs:{href:"#"}},[t._v("食品饮料")])]),i("span",{staticStyle:{"margin-right":"10px"},on:{click:function(i){return i.preventDefault(),t.classification(2)}}},[i("a",{class:{activeCss:2==t.active},attrs:{href:"#"}},[t._v("日常用品")])]),i("span",{staticStyle:{"margin-right":"10px"},on:{click:function(i){return i.preventDefault(),t.classification(3)}}},[i("a",{class:{activeCss:3==t.active},attrs:{href:"#"}},[t._v("文学")])]),i("span",{staticStyle:{"margin-right":"10px"},on:{click:function(i){return i.preventDefault(),t.classification(4)}}},[i("a",{class:{activeCss:4==t.active},attrs:{href:"#"}},[t._v("医药")])])])]),i("div",{staticStyle:{display:"inline-block"}},[i("span",{staticStyle:{"margin-right":"20px"},on:{click:t.click_order}},[i("el-button",{staticStyle:{height:"37px","font-size":"16px"},attrs:{type:"primary"}},[t._v("我的订单")])],1),i("span",{staticStyle:{"margin-right":"20px"},on:{click:t.click_cart}},[i("el-button",{staticStyle:{height:"37px","font-size":"16px"},attrs:{type:"primary"}},[t._v("我的购物车")])],1),i("span",[i("el-button",{staticStyle:{height:"37px","font-size":"16px"},attrs:{type:"primary"}},[t._v("联系客服")])],1)])]),i("div",{attrs:{id:"main"}},[i("div",{staticStyle:{display:"flex"},attrs:{id:"detail"}},[i("div",{staticClass:"goodsPic"},[i("img",{attrs:{src:t.img()}})]),i("div",{attrs:{id:"information"}},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.des)+" ")]),i("div",{staticClass:"price"},[i("div",{attrs:{id:"act1"}},[t._v(" 烧瓶狂欢季 ")]),i("div",{attrs:{id:"act2"}},[t._v(" 热卖中 下单即抢 ")]),i("div",{attrs:{id:"num"}},[t._v(" ￥"+t._s(t.price)+" ")]),i("div",{attrs:{id:"numberBox"}},[i("el-input-number",{attrs:{step:1},model:{value:t.number,callback:function(i){t.number=i},expression:"number"}}),i("el-divider")],1),i("div",[i("div",{staticStyle:{"text-align":"center"}},[t._v(" 售出量："+t._s(t.soldCount)+" ")]),i("div",{staticStyle:{"text-align":"center"}},[t._v(" 库存量："+t._s(t.availCount)+" ")])]),i("div",{attrs:{id:"car"}},[i("el-button",{attrs:{type:"primary",id:"car_but"},on:{click:t.add}},[t._v("加入购物车")])],1),i("div",{attrs:{id:"car"}},[i("el-button",{attrs:{type:"primary",id:"car_but"},on:{click:t.buy}},[t._v("立即购买")]),i("div",{attrs:{id:"place"}},[t._v(" 配送至..."),i("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"北航"},model:{value:t.place,callback:function(i){t.place=i},expression:"place"}})],1)],1)])])])])])},s=[function(){var t=this,i=t._self._c;return i("div",{staticStyle:{display:"inline-block"}},[i("img",{attrs:{src:e(66949),width:"80"}})])},function(){var t=this,i=t._self._c;return i("div",{staticClass:"logo",staticStyle:{"text-align":"center",display:"inline-block"}},[i("div",[t._v("烧瓶")]),i("div",{staticStyle:{"font-size":"16px"}},[t._v("心仪生活上烧瓶")])])}],r=(e(57658),e(50196)),n={name:"Detail",created(){this.price=this.$route.query.price,this.des=this.$route.query.des,this.id=this.$route.query.id,this.username=this.$route.query.username,this.availCount=this.$route.query.availCount,this.soldCount=this.$route.query.soldCount,r.Z.get("/api/goodimage/"+this.id+"/").then((t=>{this.pic=t.data[0].pic}))},data(){return{username:"",price:"",des:"",id:"",pic:"",number:1,availCount:0,soldCount:0,place:"北航"}},computed:{welcome:function(){return"Hi, "+this.username+"~ 开始您的烧瓶之旅"}},methods:{img(){return this.pic},add(){this.number<=0?alert("请至少添加一件商品~"):(this.$axios({method:"post",url:"/api/addtocart/",data:JSON.stringify({buyerId:this.username,goodId:this.id,count:this.number})}),alert("添加成功！"))},click_cart(){let t=this.$router.resolve({path:"/cart",query:{id:this.username}});window.open(t.href,"_blank")},click_order(){let t=this.$router.resolve({path:"/order",query:{id:this.username}});window.open(t.href,"_blank")},buy(){this.number<=0?alert("请至少添加一件商品~"):this.$axios({method:"post",url:"/api/buy/",data:JSON.stringify({count:this.number,buyerId:this.username,goodId:this.id,place:this.place})}).then((t=>{-2==t.data?alert("商品余量不足！"):-1==t.data?alert("余额不足！"):alert("购买成功！欢迎下次光临")}))},back(){this.$router.push({path:"/main",query:{userId:this.id}})}}},c=n,l=e(1001),o=(0,l.Z)(c,a,s,!1,null,"fb6d11e8",null),u=o.exports},66949:function(t,i,e){t.exports=e.p+"static/img/logo.b639b7b8.png"}}]);
//# sourceMappingURL=301.0a473a65.js.map