"use strict";(self["webpackChunkshopping_web"]=self["webpackChunkshopping_web"]||[]).push([[258],{33845:function(e,r,t){t.d(r,{Z:function(){return u}});var s=function(){var e=this,r=e._self._c;return r("el-button",{attrs:{type:"primary"}},[e._v(" "+e._s(e.msg)+" ")])},a=[],o={name:"Mybutton",props:{msg:String}},l=o,i=t(1001),n=(0,i.Z)(l,s,a,!1,null,"2636bfaa",null),u=n.exports},17258:function(e,r,t){t.r(r),t.d(r,{default:function(){return m}});var s=function(){var e=this,r=e._self._c;return r("div",{staticClass:"body"},[r("Transition",{attrs:{appear:"",name:"logo-fade"}},[r("div",{staticStyle:{position:"absolute","margin-left":"5%"}},[r("img",{attrs:{src:t(42698),width:"300px"}})])]),r("Transition",{attrs:{appear:"",name:"slide-fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],key:"livelist",staticClass:"mainWindow"},[r("div",{staticStyle:{"padding-top":"5%","padding-bottom":"5%"}},[r("h1",[e._v("欢迎来到烧瓶")])]),r("div",{staticStyle:{width:"60%",margin:"auto"}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",e._n(r))},expression:"ruleForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",clearable:""},model:{value:e.ruleForm.pass,callback:function(r){e.$set(e.ruleForm,"pass",r)},expression:"ruleForm.pass"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",clearable:""},model:{value:e.ruleForm.checkPass,callback:function(r){e.$set(e.ruleForm,"checkPass",r)},expression:"ruleForm.checkPass"}})],1),r("el-form-item",{attrs:{label:"身份",prop:"checkRole"}},[r("el-radio-group",{model:{value:e.ruleForm.role,callback:function(r){e.$set(e.ruleForm,"role",r)},expression:"ruleForm.role"}},[r("el-radio",{attrs:{label:"买家"}}),r("el-radio",{attrs:{label:"商家"}})],1)],1)],1)],1),r("div",{staticStyle:{"margin-top":"5%","margin-bottom":"3%"}},[r("Mybutton",{attrs:{msg:"提交"},nativeOn:{click:function(r){return e.submitForm("ruleForm")}}})],1),r("Mybutton",{attrs:{msg:"返回登录"},nativeOn:{click:function(r){return e.click_return.apply(null,arguments)}}})],1)])],1)},a=[],o=(t(57658),t(33845)),l={name:"Register",components:{Mybutton:o.Z},data(){var e=(e,r,t)=>{if(!r)return t(new Error("用户名不能为空"));if(r.length>128)return t(new Error("用户名字符数不能超过128"));var s=/(?![^a-zA-Z0-9]*$)/;if(!s.test(r))return t(new Error("用户名必须由数字或英文字母组成"));t()},r=(e,r,t)=>{""===r?t(new Error("请输入密码")):(""!==this.ruleForm.checkPass&&this.$refs.ruleForm.validateField("checkPass"),t())},t=(e,r,t)=>{""===r?t(new Error("请再次输入密码")):r!==this.ruleForm.pass?t(new Error("两次输入的密码不一致")):t()},s=(e,r,t)=>{""==this.ruleForm.role?t(new Error("请选择身份")):t()};return{ruleForm:{username:"",pass:"",checkPass:"",role:""},show:!0,status:0,correct:!0,rules:{pass:[{validator:r,trigger:"blur"}],checkPass:[{validator:t,trigger:"blur"}],username:[{validator:e,trigger:"blur"}],checkRole:[{validator:s,trigger:"blur"}]}}},created(){document.addEventListener("keyup",this.keyup)},methods:{keyup(e){let r=this;var t=e.which||e.keyCode;13==t&&r.submitForm("ruleForm")},click_return(){this.$router.push({name:"Login"})},submitForm(e){this.$refs[e].validate((e=>{var r=3;if("买家"==this.ruleForm.role?r=1:"商家"==this.ruleForm.role&&(r=2),!e)return console.log("error"),!1;this.$axios({method:"post",url:"/api/signup/",data:JSON.stringify({userId:this.ruleForm.username,passWord:this.ruleForm.pass,type:r})}).then((e=>{this.$notify({title:"注册成功",message:"欢迎来到烧瓶！",type:"success"}),this.$router.push({name:"Login"})})).catch((e=>{e.response&&401==e.response.status&&this.$alert("该用户名已存在，请您更改","注册失败",{type:"warning"})}))}))}}},i=l,n=t(1001),u=(0,n.Z)(i,s,a,!1,null,"8ae19224",null),m=u.exports},42698:function(e,r,t){e.exports=t.p+"static/img/LOGO1.85a0856d.png"}}]);
//# sourceMappingURL=258.086e9eb4.js.map