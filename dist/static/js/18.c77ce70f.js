(self["webpackChunkshopping_web"]=self["webpackChunkshopping_web"]||[]).push([[18],{48113:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return m}});var s=function(){var t=this,e=t._self._c;return e("div",[e("span",{on:{click:t.flashMoney}},[e("MySidebar",{attrs:{money:t.money,password:t.password,is_active:t.is_active,username:t.username,mymail:t.mail,buy_change:t.buy_change,money_change:t.money_change}})],1),e("div",{staticClass:"center"},[t._m(0),t._m(1),e("div",{staticStyle:{display:"inline-block"}},[e("div",{staticClass:"search-box",staticStyle:{"margin-right":"40px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticStyle:{border:"0px",outline:"0px","font-size":"16px",height:"30px","padding-top":"5px","padding-bottom":"5px"},attrs:{type:"text",size:"50",placeholder:t.welcome},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),e("MyButton",{staticStyle:{height:"37px","font-size":"15px"},attrs:{msg:"开始烧瓶"},nativeOn:{click:function(e){return t.search.apply(null,arguments)}}})],1),e("div",{staticClass:"type-box"},[e("span",{staticStyle:{"margin-right":"10px"},on:{click:function(e){return e.preventDefault(),t.classification(1)}}},[e("a",{class:{activeCss:1==t.active},attrs:{href:"#"}},[t._v("药品")])]),e("span",{staticStyle:{"margin-right":"10px"},on:{click:function(e){return e.preventDefault(),t.classification(2)}}},[e("a",{class:{activeCss:2==t.active},attrs:{href:"#"}},[t._v("食品饮料")])]),e("span",{staticStyle:{"margin-right":"10px"},on:{click:function(e){return e.preventDefault(),t.classification(3)}}},[e("a",{class:{activeCss:3==t.active},attrs:{href:"#"}},[t._v("文学")])]),e("span",{staticStyle:{"margin-right":"10px"},on:{click:function(e){return e.preventDefault(),t.classification(4)}}},[e("a",{class:{activeCss:4==t.active},attrs:{href:"#"}},[t._v("日常用品")])])])]),e("div",{staticStyle:{display:"inline-block","margin-bottom":"1%"}},[e("MyCartButton",{staticStyle:{"z-index":"999",position:"absolute"},attrs:{username:t.username}})],1)]),e("div",{staticStyle:{width:"70%",margin:"0 auto"}},[e("el-carousel",{attrs:{interval:3e3,type:"card",height:"400px"}},t._l(t.el_pic,(function(t){return e("el-carousel-item",[e("img",{staticClass:"picture",attrs:{src:i(97173)("./"+t)}})])})),1)],1),e("div",{attrs:{id:"main"}},[e("div",{staticClass:"elevator"},[e("div",{staticClass:"elevator-item",on:{click:t.gotoUp}},[e("i",{staticClass:"el-icon-sort-up"}),e("span",{staticClass:"elevator-text"},[t._v(" 顶部 ")])]),e("div",{staticClass:"elevator-item",on:{click:t.changeSignIn}},[0==t.signin?e("i",{staticClass:"el-icon-close"}):e("i",{staticClass:"el-icon-check"}),e("span",{staticClass:"elevator-text"},[t._v(" 打卡 ")])]),t._m(2),e("div",{staticClass:"elevator-item",on:{click:function(e){t.feedbackVisible=!0}}},[e("i",{staticClass:"el-icon-edit"}),e("span",{staticClass:"elevator-text"},[t._v(" 反馈 ")])]),e("div",{staticClass:"elevator-item",on:{click:t.gotoBottom}},[e("i",{staticClass:"el-icon-sort-down"}),e("span",{staticClass:"elevator-text"},[t._v(" 底部 ")])])]),0===t.goodsGroup.length?e("div",{staticStyle:{"margin-top":"3%"}},[e("el-skeleton",{attrs:{rows:30,animated:""}})],1):t._e(),t._l(t.goodsGroup,(function(i){return e("div",{staticStyle:{display:"inline-block","margin-bottom":"5%"}},[e("Transition",{attrs:{appear:"",name:"slide-fade"}},[e("MyCard",{attrs:{price:i.price,name:i.description,id:i.id,picture:t.getImage(i),availCount:i.availCount,soldCount:i.soldCount,username:t.username,address:i.address}})],1)],1)})),e("div",{staticStyle:{"margin-bottom":"10%"}},[e("el-pagination",{staticStyle:{"text-align":"center"},attrs:{background:"",layout:"prev, pager, next,jumper, ->, total",total:t.sum,"current-page":t.currentPage,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}})],1)],2),e("el-dialog",{attrs:{title:"反馈",visible:t.feedbackVisible},on:{"update:visible":function(e){t.feedbackVisible=e}}},[e("el-form",[e("el-form-item",{attrs:{label:"请抒发您的想法:","label-width":t.formLabelWidth}},[e("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:100}},model:{value:t.feedbackContent,callback:function(e){t.feedbackContent=e},expression:"feedbackContent"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.feedbackVisible=!1}}},[t._v("我再想想")]),e("el-button",{attrs:{type:"primary"},on:{click:t.feedback}},[t._v("确定提交")])],1)],1)],1)},a=[function(){var t=this,e=t._self._c;return e("div",{staticStyle:{position:"absolute","margin-left":"15%","margin-top":"-1%"}},[e("img",{attrs:{src:i(42698),width:"150"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo",staticStyle:{"text-align":"center",display:"inline-block"}},[e("div",[t._v("烧瓶")]),e("div",{staticStyle:{"font-size":"16px"}},[t._v("心仪生活上烧瓶")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"elevator-item"},[e("i",{staticClass:"el-icon-headset"}),e("span",{staticClass:"elevator-text"},[t._v(" 客服 ")])])}],n=i(50196),o=i(26020),c=i(33845),r=i(64501),l=i(18234),p={name:"MainFace",components:{MySidebar:o.Z,MyButton:c.Z,MyCard:r.Z,MyCartButton:l.Z},data(){return{username:"",password:"",goods:[],pic:"",content:"",active:999,el_pic:["el-1.jpg","el-2.jpg","el-3.jpg","el-4.jpg","el-5.jpg"],mail:"",money:"",currentPage:1,pageSize:30,goodsGroup:[],sessionid:"",sum:1334,carts:[],feedbackVisible:!1,feedbackContent:"",formLabelWidth:"",signin:!1,buy_change:!1,money_change:!1,is_active:!1}},computed:{welcome:function(){return"Hi, "+this.username+"~ 开始您的烧瓶之旅"}},created(){document.addEventListener("keyup",this.keyup),this.username=this.$route.query.userId,this.password=this.$route.query.password,this.money=this.$route.query.money,this.mail=this.$route.query.mail,this.sessionid=this.$route.query.sessionid,this.$axios({method:"post",url:"/api/goodcount/999/"}).then((t=>{this.sum=t.data.count})).catch((t=>{})),n.Z.get("/api/goods/999/1/31/",{}).then((t=>{this.goodsGroup=t.data})),n.Z.get("/api/getcart/"+this.username+"/").then((t=>{this.carts=t.data})),n.Z.get("/api/ischecked/"+this.username+"/").then((t=>{"今日未打卡"==t.data.msg?this.signin=!1:this.signin=!0})),n.Z.get("/api/getemail/"+this.username+"/").then((t=>{this.money_change=t.data.money_change,this.buy_change=t.data.buy_change,this.is_active=t.data.is_active}))},methods:{getImage(t){return 0==t.pic.length?"-1.jpg":t.pic[0]},keyup(t){let e=this;var i=t.which||t.keyCode;13==i&&e.search(t)},handleCurrentChange(t){this.currentPage=t;let e=(t-1)*this.pageSize+1,i=t*this.pageSize+1;n.Z.get("/api/goods/"+this.active+"/"+e+"/"+i+"/").then((t=>{this.goodsGroup=t.data}))},classification(t){this.active=t,n.Z.get("/api/goods/"+t+"/1/31/").then((t=>{this.goodsGroup=t.data})),this.$axios({method:"post",url:"/api/goodcount/"+t+"/"}).then((t=>{this.sum=t.data.count})).catch((t=>{}))},async search(t){let e=t.target;"SPAN"!=e.nodeName&&"I"!=e.nodeName||(e=t.target.parentNode),e.blur(),await n.Z.get("/api/search/"+this.content+"/").then((t=>{this.goodsGroup=t.data})),this.sum=this.goodsGroup.length},gotoUp(){let t=document.documentElement.scrollTop||document.body.scrollTop;const e=setInterval((()=>{document.body.scrollTop=document.documentElement.scrollTop=t-=50,t<=0&&clearInterval(e)}),5)},gotoBottom(){scrollTo(0,document.documentElement.scrollHeight)},flashMoney(){this.$axios.get("/api/signin/"+this.username+"/"+this.password+"/").then((t=>{this.money=t.data.money})).catch((t=>{}))},feedback(){this.feedbackVisible=!1,this.$notify({title:"提交成功",message:"感谢您的反馈，我们会继续改进",type:"success"})},changeSignIn(){0==this.signin?(this.$axios({method:"post",url:"/api/check/",data:JSON.stringify({userId:this.username})}).then((t=>{this.signin=!0})),this.$notify({title:"打卡成功",message:"记得坚持打卡喔",type:"success"})):this.$notify({title:"重复打卡",message:"今天打过卡了喔",type:"error"})}}},u=p,g=i(1001),d=(0,g.Z)(u,s,a,!1,null,"24a6daa8",null),m=d.exports},97173:function(t,e,i){var s={"./LOGO1.png":42698,"./business.png":32504,"./detail1.jpg":74373,"./detail2.jpg":59242,"./detailBackground.png":78833,"./el-1.jpg":37314,"./el-2.jpg":68868,"./el-3.jpg":97321,"./el-4.jpg":90377,"./el-5.jpg":90241,"./head.png":78257,"./information.jpg":86246,"./loginbg.jpg":37513,"./logo.png":66949,"./logo2.png":51637,"./maomao.jpg":28301,"./newLOGO.png":28667,"./registerBackground.png":1835};function a(t){var e=n(t);return i(e)}function n(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=n,t.exports=a,a.id=97173},42698:function(t,e,i){"use strict";t.exports=i.p+"static/img/LOGO1.85a0856d.png"},32504:function(t,e,i){"use strict";t.exports=i.p+"static/img/business.3adc3d9f.png"},74373:function(t,e,i){"use strict";t.exports=i.p+"static/img/detail1.487b9c6e.jpg"},59242:function(t,e,i){"use strict";t.exports=i.p+"static/img/detail2.256df865.jpg"},78833:function(t,e,i){"use strict";t.exports=i.p+"static/img/detailBackground.baa198ca.png"},37314:function(t,e,i){"use strict";t.exports=i.p+"static/img/el-1.c3219388.jpg"},68868:function(t,e,i){"use strict";t.exports=i.p+"static/img/el-2.831bd5d4.jpg"},97321:function(t,e,i){"use strict";t.exports=i.p+"static/img/el-3.184dc018.jpg"},90377:function(t,e,i){"use strict";t.exports=i.p+"static/img/el-4.f22e9890.jpg"},90241:function(t,e,i){"use strict";t.exports=i.p+"static/img/el-5.712f0dbd.jpg"},86246:function(t,e,i){"use strict";t.exports=i.p+"static/img/information.404df7f5.jpg"},37513:function(t,e,i){"use strict";t.exports=i.p+"static/img/loginbg.3cc654d4.jpg"},66949:function(t,e,i){"use strict";t.exports=i.p+"static/img/logo.b639b7b8.png"},51637:function(t,e,i){"use strict";t.exports=i.p+"static/img/logo2.ac378952.png"},28301:function(t,e,i){"use strict";t.exports=i.p+"static/img/maomao.ac70f3d1.jpg"},28667:function(t,e,i){"use strict";t.exports=i.p+"static/img/newLOGO.415d5c87.png"},1835:function(t,e,i){"use strict";t.exports=i.p+"static/img/registerBackground.0b2ca8cb.png"}}]);
//# sourceMappingURL=18.c77ce70f.js.map